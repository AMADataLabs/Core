''' DAG definition for the DAG Scheduler. '''
from   datalabs.etl.dag.dag import DAG
from   datalabs.etl.archive.transform import ZipTransformerTask
from   datalabs.etl.cpt.release.transform import ReleaseTypesTransformerTask  # , ReleaseTransformerTask
from   datalabs.etl.cpt.api.transform import \
    ReleasesTransformerTask, \
    CodesTransformerTask, \
    ReleaseCodeMappingTransformerTask, \
    ShortDescriptorTransformerTask, \
    MediumDescriptorTransformerTask, \
    LongDescriptorTransformerTask, \
    ModifierTypeTransformerTask, \
    ModifierTransformerTask, \
    ConsumerDescriptorTransformerTask, \
    ClinicianDescriptorTransformerTask, \
    ClinicianDescriptorCodeMappingTransformerTask, \
    PLADetailsTransformerTask, \
    ManufacturerTransformerTask, \
    ManufacturerCodeMappingTransformerTask, \
    LabTransformerTask, \
    LabCodeMappingTransformerTask
from   datalabs.etl.orm.load import ORMLoaderTask
from   datalabs.etl.parse.transform import ParseToCSVTransformerTask


class CPTDAG(DAG):
    CREATE_FILES_ZIP: ZipTransformerTask
    CREATE_PDFS_ZIP: ZipTransformerTask
    CREATE_RELEASE_TYPES: ReleaseTypesTransformerTask
    LOAD_RELEASE_TYPES: ORMLoaderTask
    PARSE_TEXT_FILES: ParseToCSVTransformerTask
    CREATE_RELEASE_TABLE: ReleasesTransformerTask
    CREATE_CODE_TABLE: CodesTransformerTask
    CREATE_RELEASE_CODE_MAPPING_TABLE: ReleaseCodeMappingTransformerTask
    CREATE_SHORT_DESCRIPTOR_TABLE: ShortDescriptorTransformerTask
    CREATE_MEDIUM_DESCRIPTOR_TABLE: MediumDescriptorTransformerTask
    CREATE_LONG_DESCRIPTOR_TABLE: LongDescriptorTransformerTask
    CREATE_MODIFIER_TYPE_TABLE: ModifierTypeTransformerTask
    CREATE_MODIFIER_TABLE: ModifierTransformerTask
    CREATE_CONSUMER_DESCRIPTOR_TABLE: ConsumerDescriptorTransformerTask
    CREATE_CLINICIAN_DESCRIPTOR_TABLE: ClinicianDescriptorTransformerTask
    CREATE_CLINICIAN_DESCRIPTOR_CODE_MAPPING_TABLE: ClinicianDescriptorCodeMappingTransformerTask
    CREATE_PLA_DETAILS_TABLE: PLADetailsTransformerTask
    CREATE_MANUFACTURER_TABLE: ManufacturerTransformerTask
    CREATE_MANUFACTURER_CODE_MAPPING_TABLE: ManufacturerCodeMappingTransformerTask
    CREATE_LAB_TABLE: LabTransformerTask
    CREATE_LAB_CODE_MAPPING_TABLE: LabCodeMappingTransformerTask
    LOAD_RELEASE_TABLE: ORMLoaderTask
    LOAD_CODE_TABLE: ORMLoaderTask
    LOAD_RELEASE_CODE_MAPPING_TABLE: ORMLoaderTask
    LOAD_MODIFIER_TYPE_TABLE: ORMLoaderTask
    LOAD_CLINICIAN_DESCRIPTOR_TABLE: ORMLoaderTask
    LOAD_DESCRIPTOR_TABLES: ORMLoaderTask
    LOAD_MANUFACTURER_TABLE: ORMLoaderTask
    LOAD_LAB_TABLE: ORMLoaderTask
    LOAD_PLA_DETAILS_TABLE: ORMLoaderTask
    LOAD_PLA_MAPPING_TABLES: ORMLoaderTask


# pylint: disable=pointless-statement
CPTDAG.CREATE_RELEASE_TYPES >> CPTDAG.LOAD_RELEASE_TYPES

CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_RELEASE_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_CODE_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_RELEASE_CODE_MAPPING_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_SHORT_DESCRIPTOR_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_MEDIUM_DESCRIPTOR_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_LONG_DESCRIPTOR_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_MODIFIER_TYPE_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_MODIFIER_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_CONSUMER_DESCRIPTOR_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_CLINICIAN_DESCRIPTOR_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_CLINICIAN_DESCRIPTOR_CODE_MAPPING_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_PLA_DETAILS_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_MANUFACTURER_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_MANUFACTURER_CODE_MAPPING_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_LAB_TABLE
CPTDAG.PARSE_TEXT_FILES >> CPTDAG.CREATE_LAB_CODE_MAPPING_TABLE

CPTDAG.CREATE_CODE_TABLE >> CPTDAG.CREATE_RELEASE_CODE_MAPPING_TABLE
CPTDAG.CREATE_CODE_TABLE >> CPTDAG.CREATE_CONSUMER_DESCRIPTOR_TABLE
CPTDAG.CREATE_CODE_TABLE >> CPTDAG.CREATE_CLINICIAN_DESCRIPTOR_CODE_MAPPING_TABLE

CPTDAG.CREATE_RELEASE_TABLE >> CPTDAG.LOAD_RELEASE_TABLE
CPTDAG.LOAD_RELEASE_TYPES >> CPTDAG.LOAD_RELEASE_TABLE

CPTDAG.LOAD_RELEASE_TABLE >> CPTDAG.LOAD_RELEASE_CODE_MAPPING_TABLE
CPTDAG.CREATE_CODE_TABLE >> CPTDAG.LOAD_CODE_TABLE >> CPTDAG.LOAD_RELEASE_CODE_MAPPING_TABLE
CPTDAG.CREATE_RELEASE_CODE_MAPPING_TABLE >> CPTDAG.LOAD_RELEASE_CODE_MAPPING_TABLE

CPTDAG.CREATE_CLINICIAN_DESCRIPTOR_TABLE >> CPTDAG.LOAD_CLINICIAN_DESCRIPTOR_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES

CPTDAG.CREATE_MODIFIER_TYPE_TABLE >> CPTDAG.LOAD_MODIFIER_TYPE_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES

CPTDAG.CREATE_SHORT_DESCRIPTOR_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES
CPTDAG.CREATE_MEDIUM_DESCRIPTOR_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES
CPTDAG.CREATE_LONG_DESCRIPTOR_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES
CPTDAG.CREATE_CONSUMER_DESCRIPTOR_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES
CPTDAG.CREATE_CLINICIAN_DESCRIPTOR_CODE_MAPPING_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES
CPTDAG.CREATE_MODIFIER_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES
CPTDAG.LOAD_CODE_TABLE >> CPTDAG.LOAD_DESCRIPTOR_TABLES

CPTDAG.LOAD_MANUFACTURER_TABLE >> CPTDAG.LOAD_PLA_TABLES
CPTDAG.LOAD_CODE_TABLE >> CPTDAG.LOAD_PLA_TABLES

CPTDAG.LOAD_LAB_TABLE >> CPTDAG.LOAD_PLA_TABLES
CPTDAG.LOAD_CODE_TABLE >> CPTDAG.LOAD_PLA_TABLES

CPTDAG.CREATE_PLA_DETAILS_TABLE >> CPTDAG.LOAD_PLA_DETAILS_TABLE
CPTDAG.CREATE_MANUFACTURER_TABLE >> CPTDAG.LOAD_PLA_DETAILS_TABLE
CPTDAG.CREATE_MANUFACTURER_CODE_MAPPING_TABLE >> CPTDAG.LOAD_PLA_DETAILS_TABLE
CPTDAG.CREATE_LAB_TABLE >> CPTDAG.LOAD_PLA_DETAILS_TABLE
CPTDAG.CREATE_LAB_CODE_MAPPING_TABLE >> CPTDAG.LOAD_PLA_DETAILS_TABLE

CPTDAG.LOAD_PLA_DETAILS_TABLE >> CPTDAG.LOAD_PLA_MAPPING_TABLES
