---
VERICRE_PROFILES_ETL:
    GLOBAL:
        ENVIRONMENT: dev
        ACCOUNT: '191296302136'

        # CAQH_USERNAME: DeepakA123
        # CAQH_PASSWORD: '{{caqh_password}}'

        EFT_HOST: efttest.ama-assn.org
        EFT_USERNAME: vericretst
        EFT_PASSWORD: '{{eft_password}}'

        S3_INGESTED_DATA_BUCKET: ama-${ENVIRONMENT}-datalake-ingest-us-east-1
        S3_PROCESSED_DATA_BUCKET: ama-${ENVIRONMENT}-datalake-process-us-east-1
        S3_STAGED_DATA_BUCKET: ama-${ENVIRONMENT}-datalake-staged-us-east-1

        S3_CACHE_PYTHON_CLASS: 'datalabs.etl.dag.cache.s3.S3TaskDataCache'
        S3_BASE_PATH: 'AMA/VeriCre/Profiles'

    DAG:
        LAMBDA_FUNCTION: 'VeriCre-${ENVIRONMENT}-Profiles-DAG'
        DAG_CLASS: 'datalabs.etl.dag.vericre.profile.DAG'
        DAG_STATE:
            CLASS: 'datalabs.etl.dag.state.dynamodb.DAGState'
            STATE_TABLE: 'DataLake-dag-state-${ENVIRONMENT}'
            LOCK_TABLE: 'DataLake-scheduler-locks-${ENVIRONMENT}'
        DAG_TOPIC_ARN: 'arn:aws:sns:us-east-1:${ACCOUNT}:DataLake-${ENVIRONMENT}-DAGProcessor'
        TASK_TOPIC_ARN: 'arn:aws:sns:us-east-1:${ACCOUNT}:DataLake-${ENVIRONMENT}-TaskProcessor'
        DAG_EXECUTOR_CLASS: 'datalabs.etl.dag.execute.awslambda.LambdaDAGExecutorTask'
        TASK_EXECUTOR_CLASS: 'datalabs.etl.dag.execute.awslambda.LambdaTaskExecutorTask'

    EXTRACT_AMA_PHYSICIAN_PROFILES:
        HOST: ${EFT_HOST}
        USERNAME: ${EFT_USERNAME}
        PASSWORD: ${EFT_PASSWORD}
        BASE_PATH: "./"
        FILES: ABMS_DATA.psv,DEA_DATA.psv,DEMOG_DATA.psv,LICENSE_DATA.psv,MED_SCH_DATA.psv,MED_TRAIN_DATA.psv,NPI_DATA.psv,SANCTIONS_DATA.psv

        CACHE_OUTPUT_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_OUTPUT_BASE_PATH: ${S3_BASE_PATH}
        CACHE_OUTPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: ABMS_DATA.psv,DEA_DATA.psv,DEMOG_DATA.psv,LICENSE_DATA.psv,MED_SCH_DATA.psv,MED_TRAIN_DATA.psv,NPI_DATA.psv,SANCTIONS_DATA.psv

    STANDARDIZE_ABMS_DATES:
        COLUMNS: ENTITY_ID,CERT_BOARD,CERTIFICATE,CERTIFICATE_TYPE,EFFECTIVE_DT,EXPIRATION_DT,LAST_REPORTED_DT,CERT_STAT_DESC,DURATION_TYPE_DESC,MOC_MET_RQT,REACTIVATION_DT,CERTIFICATION_ID,ABMS_BIO_ID,MOC_PATHWAY_BRD_MSG,MOC_PATHWAY_ID,ABMS_RECORD_TYPE

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: ABMS_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: ABMS_DATA_STD.psv

    STANDARDIZE_DEA_DATES:
        COLUMNS: ENTITY_ID|DEA_NBR|DEA_SCHEDULE|DEA_AS_OF_DT|DEA_EXPR_DT|DEA_STATUS|DEA_STATUS_DESC|COMM_ID|ADDRESS_LINE_1|ADDRESS_LINE_2|ADDRESS_LINE_3|CITY_NM|STATE_ID|ZIP|COUNTRY_NM|RENEWEL_DT|FIRST_NAME|MIDDLE_NAME|LAST_NAME|BUSINESS_ACTIVITY_SUBCODE|BUSINESS_ACTIVITY_CODE|PAYMENT_IND

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: DEA_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: DEA_DATA_STD.psv

    STANDARDIZE_DEMOGRAPHICS_DATES:
        COLUMNS: ENTITY_ID|MAILING_COMM_ID|MAILING_ADDRESS_LINE_1|MAILING_ADDRESS_LINE_2|MAILING_ADDRESS_LINE_3|MAILING_CITY_NM|MAILING_STATE_ID|MAILING_ZIP|MAILING_COUNTRY_NM|POLO_COMM_ID|POLO_ADDRESS_LINE_1|POLO_ADDRESS_LINE_2|POLO_ADDRESS_LINE_3|POLO_CITY_NM|POLO_STATE_ID|POLO_ZIP|POLO_COUNTRY_NM|COMM_ID|PHONE_PREFIX|PHONE_AREA_CD|PHONE_EXCHANGE|PHONE_NUMBER|PHONE_EXTENSION|LABEL_NAME|BIRTH_DT|BIRTH_PLACE|ME_NBR|FAX_COMM_ID|FAX_PREFIX|FAX_AREA_CD|FAX_EXCHANGE|FAX_NUMBER|FAX_EXTENSION|EMAIL_NAME|EMAIL_DOMAIN|MORTALITY_STATUS|DEATH_DT|STUDENT_IND|ADDR_UNDELIVERABLE_IND|ME_RPT_IND|COMM_DISP_IND|NO_RELEASE_IND|ADDTL_INFO_IND|CUT_IND|MPA_DESC|STATUS_DESC|ECFMG_NBR|PRA_EXPR_DT|DEGREE_CD|NAT_BRD_YEAR|LAS_BOARD_CD|LS_LICENSE_SANC|LS_LICENSE_SANC_STATE|ADDTL_FLAG|FED_SANCTIONS_IND|FOOTER_LABEL_NAME|PRIMARY_SPECIALTY|SECONDARY_SPECIALTY|NAME_PREFIX|FIRST_NAME|MIDDLE_NAME|LAST_NAME|NAME_SUFFIX|END_DT|NAT_BOARD_DESC|NO_CONT_PHONE_IND|NO_CONT_FAX_IND|NO_CONT_MAILING_IND|MAILING_TYPE|GENDER|TYPE_OF_PRACTICE|PRESENT_EMP|BIRTH_COUNTRY|PDRP_FLAG|PRIMARY_SPEC_CODE|SECONDARY_SPEC_CODE|PERSON_TYPE|NO_CONTACT_IND

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: DEMOG_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: DEMOG_DATA_STD.psv

    STANDARDIZE_LICENSES_DATES:
        COLUMNS: ENTITY_ID|LIC_NBR|LIC_ISSUE_DT|LIC_EXP_DT|LIC_RNW_DT|LIC_AS_OF_DT|LIC_TYPE_DESC|LIC_STATE_DESC|DEGREE_CD|STATE_SANCTIONS|LIC_STATUS_DESC|FIRST_NAME|MIDDLE_NAME|LAST_NAME|STATE_CD|RPTD_LICENSE_NBR|RPTD_SFX_NM|RPTD_FULL_NM

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: LICENSE_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: LICENSE_DATA_STD.psv

    STANDARDIZE_MEDICAL_SCHOOLS_DATES:
        COLUMNS: ENTITY_ID|LABEL_FLAG|GRAD_STATUS|SCHOOL_NAME|GRAD_DT|SCHOOL_CD|CITY|STATE_CD|ZIP|AMA_SCHOOL_CD|SEGMENT_ONLY_IND|COUNTRY_NAME|MATRICULATION_DT|DEGREE_CD|NSC_IND

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: MED_SCH_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: MED_SCH_DATA_STD.psv

    STANDARDIZE_MEDICAL_TRAINING_DATES:
        COLUMNS: ENTITY_ID|PRIMARY_SPECIALITY|SECONDARY_SPECIALTY|INST_NAME|INST_STATE|BEGIN_DT|END_DT|BEGIN_DT_DESC|END_DT_DESC|NBR_MONTHS|CONFIRM_STATUS|INC_MSG|INC_FLAG|PROGRAM_NM|HOSPITAL_ID|AMA_INST_CODE|PROGRAM_CODE|INCOMPLETE_FLAG|TRAINING_TYPE

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: MED_TRAIN_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: MED_TRAIN_DATA_STD.psv

    STANDARDIZE_NPI_DATES:
        COLUMNS: ENTITY_ID|NPI_CD|ENUMERATION_DT|DEACTIVATION_DT|REACTIVATION_DT|REP_NPI_CD|RPTD_DT|FIRST_NAME|MIDDLE_NAME|LAST_NAME

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: NPI_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: NPI_DATA_STD.psv

    STANDARDIZE_SANCTIONS_DATES:
        COLUMNS: ENTITY_ID|BOARD_CD|BOARD_DESC

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        CACHE_INPUT_FILES: SANCTIONS_DATA.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: SANCTIONS_DATA_STD.psv

    CREATE_AMA_PROFILE_TABLE:
        __MACRO_COUNT__: 3

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: abms.feather, dea.feather, demographics___MACRO_INDEX__.feather, licenses.feather, medical_schools.feather, medical_training.feather, npi.feather, sanctions.feather

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'ama_masterfile.feather'

    CREATE_ABMS:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: ABMS_DATA_STD.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'abms.feather'

    CREATE_DEA:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: DEA_DATA_STD.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'dea.feather'

    CREATE_DEMOGRAPHICS:
        __MACRO_COUNT__: 3

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: DEMOG_DATA_STD___MACRO_INDEX__.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'demographics___MACRO_INDEX__.feather'

    CREATE_LICENSES:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: LICENSE_DATA_STD.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'licenses.feather'

    CREATE_MEDICAL_SCHOOLS:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: MED_SCH_DATA_STD.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'medical_schools.feather'

    CREATE_MEDICAL_TRAINING:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: MED_TRAIN_DATA_STD.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'medical_training.feather'

    CREATE_NPI:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: NPI_DATA_STD.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'npi.feather'

    CREATE_SANCTIONS:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: SANCTIONS_DATA_STD.psv

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: 'sanctions.feather'

    CONVERT_AMA_MASTERFILE_TO_JSON:
        __MACRO_COUNT__: 3

        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: 'ama_masterfile___MACRO_INDEX__.feather'

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: >
            ama_masterfile___MACRO_INDEX__.json

    LOAD_AMA_MASTERFILE_TABLE:
        __MACRO_COUNT__: 3
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: 'ama_masterfile__MACRO_INDEX__.json'

        LEDGER: vericre-${ENVIRONMENT}-ledger
        TABLE: ama_masterfile
        PRIMARY_KEY: entityId

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: ama_masterfile_added__MACRO_INDEX__.json, ama_masterfile_updated__MACRO_INDEX__.json

    SPLIT_DEMOGRAPHICS:
        CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        CACHE_BASE_PATH: ${S3_BASE_PATH}

        CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_INPUT_FILES: 'DEMOG_DATA_STD.psv'

        SPLIT_COUNT: 3

        CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        CACHE_OUTPUT_FILES: >
            DEMOG_DATA_STD_0.psv,  DEMOG_DATA_STD_1.psv, DEMOG_DATA_STD_2.psv

    #CREATE_CAQH_STATUS_URLS:
        #CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        #CACHE_BASE_PATH: ${S3_BASE_PATH}

        #USERNAME: ${CAQH_USERNAME}
        #PASSWORD: ${CAQH_PASSWORD}

        #CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        #CACHE_INPUT_FILES: 'caqh_profile_statuses.pkl'

        #CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        #CACHE_OUTPUT_FILES: 'caqh_profile_urls.txtv'

    #EXTRACT_CAQH_PROFILE_STATUSES:
        #CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        #CACHE_BASE_PATH: ${S3_BASE_PATH}

        #USERNAME: ${CAQH_USERNAME}
        #PASSWORD: ${CAQH_PASSWORD}

        #CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        #CACHE_INPUT_FILES: 'caqh_profile_urls.txt'

        #CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        #CACHE_OUTPUT_FILES: 'caqh_profile_statuses.pkl'

    #CREATE_CAQH_PROFILE_URLS:
        #CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        #CACHE_BASE_PATH: ${S3_BASE_PATH}

        #USERNAME: ${CAQH_USERNAME}
        #PASSWORD: ${CAQH_PASSWORD}

        #CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        #CACHE_INPUT_FILES: 'caqh_profile_statuses.pkl'

        #CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        #CACHE_OUTPUT_FILES: 'caqh_profile_urls.txt'

    #EXTRACT_CAQH_PHYSICIAN_PROFILES:
        #CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        #CACHE_BASE_PATH: ${S3_BASE_PATH}

        #USERNAME: ${CAQH_USERNAME}
        #PASSWORD: ${CAQH_PASSWORD}

        #CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        #CACHE_INPUT_FILES: 'caqh_profile_urls.txt'

        #CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        #CACHE_OUTPUT_FILES: 'caqh_profiles.csv'

    #CREATE_CAQH_PROFILE_TABLE:
        #CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        #CACHE_BASE_PATH: ${S3_BASE_PATH}

        #CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        #CACHE_INPUT_FILES: ''

        #CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        #CACHE_OUTPUT_FILES: 'caqh_profiles.csv'

    #LOAD_CAQH_PROFILE_TABLE:
        #CACHE_CLASS: ${S3_CACHE_PYTHON_CLASS}
        #CACHE_BASE_PATH: ${S3_BASE_PATH}

        #LEDGER: vericre-sbx-ledger
        #TABLE: loader_development
        #PRIMARY_KEY: entityId

        #CACHE_INPUT_BUCKET: ${S3_INGESTED_DATA_BUCKET}
        #CACHE_INPUT_FILES: 'caqh_profile.json'

        #CACHE_OUTPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        #CACHE_OUTPUT_FILES: 'caqh_profiles.csv'

    #SYNC_PROFILES_TO_DATABASE:
        #CACHE_INPUT_CLASS: ${S3_CACHE_PYTHON_CLASS}
        #CACHE_INPUT_BASE_PATH: ${S3_BASE_PATH}
        #CACHE_INPUT_BUCKET: ${S3_PROCESSED_DATA_BUCKET}
        #CACHE_INPUT_FILES: ama_masterfile_added.json, ama_masterfile_updated.json

        #HOST=internal-vericre-dev-backend-api-alb-1741917255.us-east-1.elb.amazonaws.com
        #SSL_VERIFICATION=False
