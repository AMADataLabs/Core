# RepositorySettings
DATALABS_PYTHONPATH={{ pythonpath }}


# ProjectSettings
PROJECT_NAME=CPT

TASK_CLASS=datalabs.etl.task.ETLTask
TASK_WRAPPER_CLASS=datalabs.etl.awslambda.ETLTaskWrapper

#CPTLoad ETL Settings
EXTRACTOR_CLASS=datalabs.etl.s3.extract.S3UnicodeTextFileExtractorTask
EXTRACTOR_BUCKET=ama-hsg-datalabs-datalake-processed-sandbox
EXTRACTOR_BASEPATH=AMA/CPT
EXTRACTOR_FILES=standard/release.csv,standard/SHORTU.csv,standard/MEDU.csv,standard/LONGULT.csv,standard/MODUL.csv,standard/Consumer Friendly Descriptors/ConsumerDescriptor.csv,standard/Clinician Descriptors/ClinicianDescriptor.csv,standard/Proprietary Laboratory Analyses (PLA) Codes/CPTPLA.csv,CPT Link/history/Deleted_DTK_tab.csv,CPT Link/history/HistoryModifiers_DTK_tab.csv,CPT Link/history/History_DTK_tab.csv
EXTRACTOR_INCLUDEFILES=True

TRANSFORMER_CLASS=datalabs.etl.cpt.api.transform.CSVToRelationalTablesTransformerTask
TRANSFORMER_DATABASE_NAME={{ database_name }}
TRANSFORMER_DATABASE_BACKEND=postgresql+psycopg2
TRANSFORMER_DATABASE_HOST={{ database_host }}
TRANSFORMER_DATABASE_USERNAME={{ database_username }}
TRANSFORMER_DATABASE_PASSWORD={{ database_password }}

LOADER_CLASS=datalabs.etl.cpt.api.load.CPTRelationalTableLoaderTask
LOADER_DATABASE_NAME={{ database_name }}
LOADER_DATABASE_BACKEND=postgresql+psycopg2
LOADER_DATABASE_HOST={{ database_host }}
LOADER_DATABASE_USERNAME={{ database_username }}
LOADER_DATABASE_PASSWORD={{ database_password }}
