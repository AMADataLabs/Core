# Repository Settings
DATALABS_PYTHONPATH='{{pythonpath}}'


# Project Settings
PROJECT_NAME='OneView'


TASK_CLASS=datalabs.etl.task.ETLTask
TASK_WRAPPER_CLASS=datalabs.etl.awslambda.ETLTaskWrapper

# Extractor
EXTRACTOR__TASK_CLASS=datalabs.etl.fs.extract.LocalFileExtractorTask
EXTRACTOR__BASE_PATH=./
EXTRACTOR__FILES='credentialing_order_years.csv'

# Extractor
TRANSFORMER__TASK_CLASS=datalabs.etl.jdbc.extract.JDBCParametricExtractorTask
TRANSFORMER__DATABASE_HOST=rdbp1190.ama-assn.org
TRANSFORMER__DATABASE_PORT='54050'
TRANSFORMER__DATABASE_NAME=prddm
TRANSFORMER__DATABASE_USERNAME='dlabs'
TRANSFORMER__DATABASE_PASSWORD='{{database_password}}'
TRANSFORMER__DRIVER='com.ibm.db2.jcc.DB2Jcc'
TRANSFORMER__DRIVER_TYPE='db2'
TRANSFORMER__JAR_PATH=./db2jcc4.jar,./'
TRANSFORMER__SQL="SELECT DISTINCT O.FACT_EPROFILE_KEY, O.ORDER_NBR, O.CUSTOMER_KEY, O.ORDER_PRODUCT_ID, O.QUANTITY, H.MED_EDU_NBR, H.UPIN_NBR, D.FULL_DT FROM AMADM.DIM_DATE D, AMADM.FACT_EPROFILE_ORDERS O, AMADM.DIM_PHYSICIAN_HIST H WHERE D.DATE_KEY = O.ORDER_DT_KEY AND H.PHYSICIAN_HIST_KEY = O.ORDER_PHYSICIAN_HIST_KEY AND D.YR = '{YR}' ORDER BY FACT_EPROFILE_KEY;"
TRANSFORMER__MAX_PARTS='9'
TRANSFORMER__PART_INDEX='8'

# Loader
LOADER__TASK_CLASS=datalabs.etl.fs.load.LocalFileLoaderTask
LOADER__BASE_PATH=./
LOADER__FILES=credentialing_orders_0.csv
