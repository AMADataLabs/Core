"""Add foreign key constraints

Revision ID: 73acfb36c342
Revises: c4d0ef18f46c
Create Date: 2021-01-04 22:48:21.937926+00:00

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = '73acfb36c342'
down_revision = 'c4d0ef18f46c'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_column('core_based_statistical_area', 'type', schema='oneview')
    op.create_foreign_key(op.f('fk_physician_type_of_practice_type_of_practice'), 'physician', 'type_of_practice', ['type_of_practice'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_physician_primary_specialty_specialty'), 'physician', 'specialty', ['primary_specialty'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_physician_present_employment_present_employment'), 'physician', 'present_employment', ['present_employment'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_physician_core_based_statistical_area_core_based_statistical_area'), 'physician', 'core_based_statistical_area', ['core_based_statistical_area'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_physician_major_professional_activity_major_professional_activity'), 'physician', 'major_professional_activity', ['major_professional_activity'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_physician_secondary_specialty_specialty'), 'physician', 'specialty', ['secondary_specialty'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_provider_medical_education_number_physician'), 'provider', 'physician', ['medical_education_number'], ['medical_education_number'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_provider_affiliation_provider_provider'), 'provider_affiliation', 'provider', ['provider'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_provider_affiliation_business_business'), 'provider_affiliation', 'business', ['business'], ['id'], source_schema='oneview', referent_schema='oneview')
    op.create_foreign_key(op.f('fk_residency_program_institution_residency_program_institution'), 'residency_program', 'residency_program_institution', ['institution'], ['id'], source_schema='oneview', referent_schema='oneview')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(op.f('fk_residency_program_institution_residency_program_institution'), 'residency_program', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_provider_affiliation_business_business'), 'provider_affiliation', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_provider_affiliation_provider_provider'), 'provider_affiliation', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_provider_medical_education_number_physician'), 'provider', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_physician_secondary_specialty_specialty'), 'physician', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_physician_major_professional_activity_major_professional_activity'), 'physician', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_physician_core_based_statistical_area_core_based_statistical_area'), 'physician', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_physician_present_employment_present_employment'), 'physician', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_physician_primary_specialty_specialty'), 'physician', schema='oneview', type_='foreignkey')
    op.drop_constraint(op.f('fk_physician_type_of_practice_type_of_practice'), 'physician', schema='oneview', type_='foreignkey')
    op.add_column('core_based_statistical_area', sa.Column('type', sa.VARCHAR(), autoincrement=False, nullable=False), schema='oneview')
    # ### end Alembic commands ###
